<div ng-if="ctrl.instrument.$resolved">
    <md-card>
        <md-card-header>
            <md-card-header-text>
                <h1 class="md-headline">{{'instrument-management.detail.instrument' | translate}}
                    {{ctrl.survey.title}}</h1>
            </md-card-header-text>
        </md-card-header>
        <md-card-content style="padding-top: 0px;" layout="column">
            <div layout="row" layout-sm="column" layout-xs="column">
                <md-card flex-gt-sm="60">
                    <md-card-header>
                        <md-card-header-text>
                            <h2 class="md-title">{{'instrument-management.detail.instrument-informations' | translate }}</h2>
                        </md-card-header-text>
                    </md-card-header>
                    <md-divider></md-divider>
                    <md-card-content>
                        <div style="margin-bottom: 0.5em;" ng-if="ctrl.instrument.title">
                            <span style="font-weight: bold;">{{'instrument-management.detail.title' | translate }}:
                            </span>
                            <span>{{ctrl.instrument.title[currentLanguage]}}</span>
                        </div>
                        <div style="margin-bottom: 0.5em;" ng-if="ctrl.instrument.type">
                            <span style="font-weight: bold;">{{'instrument-management.detail.type' | translate }}:
                            </span>
                            <span>{{ctrl.instrument.type}}</span>
                        </div>
                    </md-card-content>
                </md-card>
                <md-card flex-gt-sm="40">
                    <md-card-header>
                        <md-card-header-text>
                            <h2 class="md-title">{{'instrument-management.detail.related-information' | translate }}</h2>
                        </md-card-header-text>
                    </md-card-header>
                    <md-divider></md-divider>
                    <md-card-content>
                      <div style="margin-bottom: 0.5em; width: 100%;" layout="row">
                        <md-icon md-svg-src="/assets/images/icons/study.svg" style="margin-top:0px; margin-right:4px;"></md-icon>
                        <div style="margin-right:3px;">{{'study-management.detail.study' | translate }}:</div>
                        <div ng-if="!ctrl.study" class="fdz-truncate-string" flex>{{'global.messages.error.unavailable' | translate}}</div>
                        <a ng-if="ctrl.study" ui-sref="studyDetail({id:ctrl.study.id})" class="fdz-truncate-string" flex>{{ctrl.study.title}}</a>
                      </div>
                      <div style="margin-bottom: 0.5em;" layout="row">
                        <md-icon md-svg-src="/assets/images/icons/survey.svg" style="margin-top:0px; margin-right:4px;"></md-icon>
                        <div style="margin-right:3px;">{{'survey-management.detail.survey' | translate }}:</div>
                        <div ng-if="!ctrl.survey" class="fdz-truncate-string" flex>{{'global.messages.error.unavailable' | translate}}</div>
                        <a ng-if="ctrl.survey" ui-sref="surveyDetail({id:ctrl.survey.id})" class="fdz-truncate-string" flex>{{ctrl.survey.title}}</a>
                      </div>
                      <div style="margin-bottom: 0.5em; width: 100%;" layout="row">
                        <md-icon md-svg-src="/assets/images/icons/question.svg" style="margin-top:0px; margin-right:4px;"></md-icon>
                          <div style="margin-right:3px;">{{'question-management.detail.questions' | translate }}:</div>
                          <div ng-if="ctrl.questionCount == 0" class="fdz-truncate-string" flex>{{'global.messages.error.unavailable' | translate}}</div>
                          <a ng-if="ctrl.questionCount > 0" ng-click="ctrl.showRelatedQuestions()" class="fdz-truncate-string" flex>({{ctrl.questionCount}})</a>
                        </div>
                    </md-card-content>
                </md-card>
            </div>
            <div layout="row">
                <md-card ng-if="ctrl.attachments" flex>
                    <md-card-header layout-align="center center">
                        <md-card-header-text>
                            <h2 class="md-title">{{'instrument-management.detail.attachments.table-title' | translate }}</h2>
                        </md-card-header-text>
                    </md-card-header>
                    <md-divider></md-divider>
                    <table class="fdz-table">
                        <thead>
                            <tr>
                                <th>{{'instrument-management.detail.attachments.title' | translate }}
                                    <md-tooltip hide-gt-xs md-direction="right">
                                        {{'instrument-management.detail.attachments.title' | translate }}
                                    </md-tooltip>
                                </th>
                                <th>{{'instrument-management.detail.attachments.type' | translate }}
                                    <md-tooltip hide-gt-xs md-direction="right">
                                        {{'instrument-management.detail.attachments.type' | translate }}
                                    </md-tooltip>
                                </th>
                                <th>{{'instrument-management.detail.attachments.file' | translate }}
                                    <md-tooltip hide-gt-xs md-direction="right">
                                        {{'instrument-management.detail.attachments.file' | translate }}
                                    </md-tooltip>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="row in ctrl.attachments">
                                <td>{{row.title[currentLanguage]}}&nbsp;</td>
                                <td>{{row.type[currentLanguage]}}&nbsp;</td>
                                <td><a ng-href="{{row.id}}" target="_blank">{{row.fileName}}</a>&nbsp;</td>
                            </tr>
                        </tbody>
                    </table>
                </md-card>
            </div>
        </md-card-content>
    </md-card>
</div>
