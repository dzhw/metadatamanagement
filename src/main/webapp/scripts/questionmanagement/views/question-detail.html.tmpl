<div ng-if="!question.$resolved">
    Lade Daten...
</div>
<div ng-if="question.$resolved">
    <md-card>
        <md-card-header>
            <md-card-header-text>
                <h1 class="md-headline">{{study.title[currentLanguage]}}
                    {{question.number}}</h1>
            </md-card-header-text>
        </md-card-header>
        <md-card-content style="padding-top: 0px;" layout="column">
            <div layout="row" layout-sm="column" layout-xs="column">
                <md-card flex-gt-sm="50">
                    <div style="max-height: 400px; overflow-y:auto;">
                        <a ng-href="public/files/questions/{{question.id}}" alt="{{question.questionText[currentLanguage] }}" target="_blank">
                            <img alt="" style="width:auto; max-width:100%; height:auto;" ng-src="public/files/questions/{{question.id}}"/>
                        </a>
                    </div>
                </md-card>
                <md-card flex-gt-sm="50">
                    <md-card-header>
                        <md-card-header-text>
                            <h2 class="md-title">{{'question-management.detail.related-information' | translate }}</h2>
                        </md-card-header-text>
                    </md-card-header>
                    <md-divider></md-divider>
                    <md-card-content>
                        <section>
                            <md-button class="md-raised" ng-click="showStudy()">
                                <md-icon md-svg-src="/assets/images/icons/study.svg"></md-icon>
                                <span>{{'study-management.detail.study' | translate }}</span>
                            </md-button>
                            <md-button class="md-raised" ng-click="addToNotepad()">
                                <md-icon md-svg-src="/assets/images/icons/addToshop.svg"></md-icon>
                                <span>{{'notepad-management.home.title' | translate }}</span>
                            </md-button>
                        </section>
                        <section>
                            <md-button class="md-raised" ng-disabled="true">
                                <md-icon md-svg-src="/assets/images/icons/instrument.svg"></md-icon>
                                <span>{{'instrument-management.detail.instrument' | translate }}</span>
                            </md-button>
                        </section>
                        <section>
                            <md-button class="md-raised" ng-click="showVariables()">
                                <md-icon md-svg-src="/assets/images/icons/variable.svg"></md-icon>
                                <span>{{'variable-management.detail.variables' | translate }}</span>
                            </md-button>
                        </section>
                    </md-card-content>
                </md-card>
            </div>
            <div layout="row" layout-xs="column" layout-sm="column">
                <md-card flex-gt-sm="50">
                    <md-card-header>
                        <md-card-header-text>
                            <h2 class="md-title">{{'question-management.detail.predecessors' | translate }}</h2>
                        </md-card-header-text>
                    </md-card-header>
                    <md-divider></md-divider>
                    <md-content style="background-color:white;">
                        <div ng-repeat="predecessor in predecessors">
                            <question-search-result search-result="predecessor._source"></question-search-result>
                        </div>
                    </md-content>
                </md-card>
                <md-card flex-gt-sm="50">
                    <md-card-header>
                        <md-card-header-text>
                            <h2 class="md-title">{{'question-management.detail.successors' | translate }}</h2>
                        </md-card-header-text>
                    </md-card-header>
                    <md-divider></md-divider>
                    <md-content style="background-color:white;">
                        <div ng-repeat="successor in successors">
                            <question-search-result search-result="successor._source"></question-search-result>
                        </div>
                    </md-content>
                </md-card>
            </div>
            <div ng-if="question.technicalRepresentation.source" layout="row" layout-xs="column" layout-sm="column">
                <md-card flex-gt-sm="100">
                    <md-card-header>
                        <md-card-header-text>
                            <h2 class="md-title">{{'question-management.detail.technical-representation' | translate }}</h2>
                        </md-card-header-text>
                        <md-button class="md-icon-button md-primary" ngclipboard data-clipboard-target="#technicalRepresentation" aria-label="{{'question-management.detail.button.aria-label.copy-to-clipboard' | translate}}">
                            <md-icon md-svg-src="/assets/images/icons/content-copy.svg" aria-hidden="true"></md-icon>
                        </md-button>
                    </md-card-header>
                    <md-content style="background-color:white;">
                        <div id="technicalRepresentation" hljs hljs-language="{{question.technicalRepresentation.language}}" style="background-color:white;" hljs-source="technicalRepresentationBeauty"></div>
                    </md-content>
                </md-card>
            </div>

        </md-card-content>
    </md-card>
</div>
