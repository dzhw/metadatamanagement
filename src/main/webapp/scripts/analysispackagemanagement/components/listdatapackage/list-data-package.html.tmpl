<md-card class="mb8">
  <md-card-header>
    <md-card-header-text>
      <h2 class="md-title">
        {{ 'analysis-package-management.detail.label.data-packages' | translate}}</h2>
    </md-card-header-text>
  </md-card-header>
  <md-divider></md-divider>
  <md-card-content>
    <div layout="column"
         layout-gt-sm="column"
         class="ms-flex"
         ng-repeat="package in $ctrl.packages track by $index">
      <div layout="row"
           layout-gt-sm="row"
           class="ms-flex">
        <md-button class="md-primary md-icon-button"
                   ng-click="$ctrl.deletePackage($index)"
                   style="margin-top: 18px; margin-left: 0px; margin-right: -8px; padding-left: 0px;">
          <md-tooltip md-autohide="true"
                      md-direction="bottom"
                      md-z-index="bowser.mobile || bowser.tablet ? -100 : 100001">
            {{'analysis-package-management.edit.delete-script-tooltip' | translate}}
          </md-tooltip>
          <md-icon md-font-set="material-icons">delete_forever</md-icon>
        </md-button>
        <md-input-container>
          <label>{{ 'analysis-package-management.detail.label.data-packages' | translate}}</label>
          <md-select ng-model="package.type">
            <md-option ng-repeat="item in $ctrl.dataPackageList" ng-value="item.type">
              {{ item[$ctrl.currentLanguage] }}
            </md-option>
          </md-select>
        </md-input-container>
      </div>
      <div layout="row"
           layout-gt-sm="row"
           class="ms-flex">
        <custom-data-package-component ng-if="package.type === 'customDataPackage'" currentForm="$ctrl.currentForm" package="package"></custom-data-package-component>
        <external-data-package-component ng-if="package.type === 'externalDataPackage'" currentForm="$ctrl.currentForm" package="package"></external-data-package-component>
        <fdz-data-package-component ng-if="package.type === 'dataPackage'" currentForm="$ctrl.currentForm" package="package"></fdz-data-package-component>
      </div>
    </div>
  </md-card-content>
  <md-card-actions layout="row" layout-align="begin center"
                   style="margin-top: 0px; margin-bottom: 12px;">
    <md-button class="md-primary md-raised md-icon-button ml6"
               ng-click="$ctrl.addPackage()">
      <md-tooltip md-autohide="true"
                  md-direction="bottom"
                  md-z-index="bowser.mobile || bowser.tablet ? -100 : 100001">
        {{'analysis-package-management.edit.add-script-tooltip' | translate}}
      </md-tooltip>
      <md-icon md-font-set="material-icons">add</md-icon>
    </md-button>
  </md-card-actions>
</md-card>
